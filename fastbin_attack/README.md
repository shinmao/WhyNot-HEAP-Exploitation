## What's FASTBIN-ATTACK?  
In fact, fastbin-attack is just a general name that attack with fastbin.  
Therefore, the skill I will talk about this time is so similar to UAF.  
But, this attack can even write into arbitrary address!!:fire:

### Double Free
To get into this chapter, we should learn how double free happen first.  
```C
malloc(0x30); //rax = 0xA
malloc(0x30); //rax = 0xB
free(0xA);
free(0xB);
free(0xA);
```  
So, why we can free the A chunk for **twice**?  
It is because that glibc will only check whether the first chunk in the free list is same as the freed one or not.  
Therefore, we can use double free to bypass the check.  
  
### Exploit  
I will take the above for example. Therefore, we can assume that in the free list is [A, B, A].  
Then, we malloc(0x30) and we can get the A chunk from the top of the free list. This time, the free list is [B, A].  
So, at the second time we malloc(0x30), we can get the A chunk again.  
If we **change the fd of the A chunk here**, we will also get the different foward chunk **at the end** of the free list!!  
If you think the description is so complicated, you can enjoy it with the picture following..... :v:  

<img src="https://github.com/shinmao/WhyNot-HEAP-Exploitation/blob/master/fastbin_attack/fastbin_doublefree.png" width="498" height="266">

### Practice  
* [NTU-CTF-2017 Babyfast](https://github.com/shinmao/CTF-writeups/tree/master/NTU-CTF-2017/babyfast)
